@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
    :root {
        --background: #0B0E11;
        --card: #151A1F;
        --border: #2A2E39;
        --primary-yellow: #FCD535;
        --primary-green: #0ECB81;
        --primary-red: #F6465D;
        --text-primary: #EAECEF;
        --text-muted: #848E9C;
    }

    html {
        scroll-behavior: smooth;
    }

    body {
        @apply bg-background text-text-primary font-arabic;
        direction: rtl;
        overflow-x: hidden;
        min-height: 100vh;
    }

    /* RTL Specific */
    .rtl-grid {
        direction: rtl;
    }

    /* Hide number input spinner */
    input[type="number"]::-webkit-inner-spin-button,
    input[type="number"]::-webkit-outer-spin-button {
        -webkit-appearance: none;
        margin: 0;
    }

    input[type="number"] {
        -moz-appearance: textfield;
    }
}

@layer components {
    /* Cards */
    .card {
        @apply bg-card border border-border rounded-xl p-6 shadow-lg transition-all duration-300;
    }

    .card-hover {
        @apply hover:border-primary-yellow/30 hover:shadow-xl hover:-translate-y-1;
    }

    /* Buttons */
    .btn {
        @apply px-6 py-3 rounded-lg font-bold transition-all duration-300 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-background disabled:opacity-50 disabled:cursor-not-allowed;
    }

    .btn-primary {
        @apply bg-primary-yellow text-background hover:bg-primary-yellow/90 focus:ring-primary-yellow;
    }

    .btn-success {
        @apply bg-primary-green text-background hover:bg-primary-green/90 focus:ring-primary-green;
    }

    .btn-danger {
        @apply bg-primary-red text-background hover:bg-primary-red/90 focus:ring-primary-red;
    }

    .btn-outline {
        @apply bg-transparent border border-border text-text-primary hover:bg-border/50 focus:ring-border;
    }

    /* Badges */
    .badge {
        @apply inline-flex items-center px-3 py-1 rounded-full text-sm font-medium;
    }

    .badge-success {
        @apply bg-primary-green/20 text-primary-green;
    }

    .badge-warning {
        @apply bg-primary-yellow/20 text-primary-yellow;
    }

    .badge-danger {
        @apply bg-primary-red/20 text-primary-red;
    }

    .badge-info {
        @apply bg-blue-500/20 text-blue-400;
    }

    /* Inputs */
    .input {
        @apply w-full bg-card border border-border rounded-lg px-4 py-3 text-text-primary placeholder:text-text-muted focus:outline-none focus:ring-2 focus:ring-primary-yellow focus:border-transparent transition-colors;
    }

    .input-error {
        @apply border-primary-red focus:ring-primary-red;
    }

    /* Tables */
    .table-container {
        @apply overflow-x-auto rounded-lg border border-border;
    }

    .table {
        @apply min-w-full divide-y divide-border;
    }

    .table th {
        @apply px-6 py-3 text-right text-sm font-semibold text-text-muted bg-card/50;
    }

    .table td {
        @apply px-6 py-4 whitespace-nowrap text-sm text-text-primary;
    }

    .table tr {
        @apply hover:bg-card/50 transition-colors;
    }

    /* Alerts */
    .alert {
        @apply p-4 rounded-lg border;
    }

    .alert-success {
        @apply bg-primary-green/10 border-primary-green/20 text-primary-green;
    }

    .alert-warning {
        @apply bg-primary-yellow/10 border-primary-yellow/20 text-primary-yellow;
    }

    .alert-error {
        @apply bg-primary-red/10 border-primary-red/20 text-primary-red;
    }

    /* Loader */
    .loader {
        @apply animate-spin rounded-full border-2 border-border border-t-primary-yellow;
    }

    /* Dashboard Stats */
    .stat-card {
        @apply card relative overflow-hidden;
    }

    .stat-card::before {
        content: '';
        @apply absolute top-0 right-0 w-1 h-full bg-gradient-to-b from-primary-yellow to-transparent;
    }

    /* Navigation */
    .nav-link {
        @apply flex items-center px-4 py-3 text-text-muted hover:text-text-primary hover:bg-card rounded-lg transition-colors;
    }

    .nav-link-active {
        @apply text-primary-yellow bg-card;
    }

    /* Modal */
    .modal-overlay {
        @apply fixed inset-0 bg-black/70 backdrop-blur-sm z-50 flex items-center justify-center p-4;
    }

    .modal-content {
        @apply bg-card border border-border rounded-xl shadow-2xl max-w-md w-full max-h-[90vh] overflow-y-auto;
    }

    /* Tooltip */
    .tooltip {
        @apply invisible absolute z-50 px-3 py-2 text-sm bg-card border border-border rounded-lg shadow-lg;
    }

    .has-tooltip:hover .tooltip {
        @apply visible;
    }
}

@layer utilities {
    /* Text Gradients */
    .text-gradient-yellow {
        @apply bg-gradient-to-r from-primary-yellow to-yellow-400 bg-clip-text text-transparent;
    }

    .text-gradient-green {
        @apply bg-gradient-to-r from-primary-green to-green-400 bg-clip-text text-transparent;
    }

    /* Background Gradients */
    .bg-gradient-card {
        @apply bg-gradient-to-br from-card to-[#1a2028];
    }

    .bg-gradient-yellow {
        @apply bg-gradient-to-r from-primary-yellow to-yellow-500;
    }

    /* Animations */
    .fade-in {
        animation: fadeIn 0.3s ease-in;
    }

    .slide-up {
        animation: slideUp 0.3s ease-out;
    }

    .pulse-subtle {
        animation: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
    }

    /* Scrollbar Styling */
    .scrollbar-thin {
        scrollbar-width: thin;
    }

    .scrollbar-thin::-webkit-scrollbar {
        width: 6px;
    }

    .scrollbar-thin::-webkit-scrollbar-track {
        @apply bg-card;
    }

    .scrollbar-thin::-webkit-scrollbar-thumb {
        @apply bg-border rounded-full;
    }

    /* Glass Effect */
    .glass {
        @apply bg-card/50 backdrop-blur-sm border border-white/10;
    }

    /* Grid Patterns */
    .grid-pattern {
        background-image: 
            linear-gradient(to right, var(--border) 1px, transparent 1px),
            linear-gradient(to bottom, var(--border) 1px, transparent 1px);
        background-size: 40px 40px;
    }
}

/* Animations */
@keyframes fadeIn {
    from {
        opacity: 0;
    }
    to {
        opacity: 1;
    }
}

@keyframes slideUp {
    from {
        opacity: 0;
        transform: translateY(20px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

@keyframes pulse {
    0%, 100% {
        opacity: 1;
    }
    50% {
        opacity: 0.8;
    }
}

/* Custom RTL Utilities */
.space-x-reverse-2 > :not([hidden]) ~ :not([hidden]) {
    --tw-space-x-reverse: 1;
}

/* Print Styles */
@media print {
    .no-print {
        display: none !important;
    }
}

/* Reduced Motion */
@media (prefers-reduced-motion: reduce) {
    * {
        animation-duration: 0.01ms !important;
        animation-iteration-count: 1 !important;
        transition-duration: 0.01ms !important;
    }
}

/* High Contrast Mode */
@media (prefers-contrast: high) {
    .card {
        border-width: 2px;
    }
    
    .btn {
        border-width: 2px;
    }
}

/* Dark Mode (Always) */
@media (prefers-color-scheme: dark) {
    :root {
        color-scheme: dark;
    }
}
